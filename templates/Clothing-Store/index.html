<!DOCTYPE html>
<html lang="en" class="scroll-smooth antialiased">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Moda — Clothing Store</title>
    <meta name="description" content="A modern, customizable clothing store starter with Tailwind and vanilla JS." />

    <!-- Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind Play CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui'] },
            colors: {
              brand: {
                50: '#f1f7ff',
                100: '#e3efff',
                200: '#c1dbff',
                300: '#95c1ff',
                400: '#66a2ff',
                500: '#3a82ff',
                600: '#1f66e6',
                700: '#184fba',
                800: '#153f94',
                900: '#133678'
              },
              ink: { 900: '#0c0d10', 800: '#121317', 700: '#171920' }
            },
            boxShadow: {
              soft: '0 8px 24px rgba(0,0,0,.08)',
              ring: '0 0 0 6px rgba(58,130,255,.14)'
            }
          }
        }
      }
    </script>

    <style>
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
      }
      .btn { @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition; }
      .btn-primary { @apply bg-brand-600 text-white hover:bg-brand-700 focus:outline-none focus-visible:shadow-ring; }
      .btn-ghost { @apply ring-1 ring-black/10 hover:bg-black/[.04]; }
      .chip { @apply inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm ring-1 ring-black/10; }
    </style>
  </head>

  <body class="bg-white text-ink-900">
    <!-- Header -->
    <header class="sticky top-0 z-40 w-full border-b border-black/10 bg-white/80 backdrop-blur">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 items-center justify-between">
          <a href="#home" class="flex items-center gap-3">
            <span class="inline-flex h-8 w-8 items-center justify-center rounded bg-ink-900 text-white">M</span>
            <span class="text-lg font-semibold tracking-wide">Moda</span>
          </a>

          <nav class="hidden md:flex items-center gap-8 text-sm font-medium">
            <a href="#new" class="hover:text-brand-600">New</a>
            <a href="#men" class="hover:text-brand-600">Men</a>
            <a href="#women" class="hover:text-brand-600">Women</a>
            <a href="#unisex" class="hover:text-brand-600">Unisex</a>
            <a href="#sale" class="hover:text-brand-600">Sale</a>
          </nav>

          <div class="flex items-center gap-3">
            <button id="openCart" class="btn btn-ghost h-10 w-10 p-0" aria-label="Open cart">
              <svg class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="1.75" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386a1.5 1.5 0 0 1 1.447 1.105l.383 1.492M7.5 14.25h9.75a1.5 1.5 0 0 0 1.463-1.154l1.5-7.5A1.5 1.5 0 0 0 18.75 4.5H5.466m2.034 9.75L5.25 5.25m2.25 9A1.5 1.5 0 1 0 9 16.5a1.5 1.5 0 0 0-1.5-1.5Zm9.75 0A1.5 1.5 0 1 0 18.75 16.5a1.5 1.5 0 0 0-1.5-1.5Z"/>
              </svg>
            </button>
            <span id="cartCount" class="chip bg-black/5">0</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Hero -->
    <section id="home" class="relative">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="grid items-center gap-10 lg:grid-cols-12 py-12 sm:py-16">
          <div class="lg:col-span-6">
            <p class="chip bg-black/5">New drop</p>
            <h1 class="mt-4 text-4xl font-extrabold tracking-tight sm:text-5xl">Fall Layers, Everyday Ease</h1>
            <p class="mt-4 max-w-prose text-black/70">Built for comfort and form, our essentials pair breathable fabrics with clean lines and versatile fits.</p>
            <div class="mt-6 flex items-center gap-3">
              <a href="#grid" class="btn btn-primary">Shop collection</a>
              <a href="#grid" class="btn btn-ghost">Explore all</a>
            </div>
          </div>
          <div class="lg:col-span-6">
            <div class="relative aspect-[5/3] overflow-hidden rounded-xl shadow-soft ring-1 ring-black/10">
              <img
                src="https://picsum.photos/id/1011/1200/720"
                alt="Editorial banner with layered outfits"
                class="h-full w-full object-cover"
                loading="eager"
              />
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/35 to-transparent"></div>
              <div class="absolute bottom-3 left-3 rounded bg-white/85 px-3 py-1 text-xs font-medium ring-1 ring-black/10 backdrop-blur">Image via Picsum</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Controls -->
    <section class="border-y border-black/10 bg-white/70">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4">
        <div class="flex flex-wrap items-center gap-3">
          <button data-filter="all" class="chip bg-black/5">All</button>
          <button data-filter="men" class="chip">Men</button>
          <button data-filter="women" class="chip">Women</button>
          <button data-filter="unisex" class="chip">Unisex</button>

          <div class="ml-auto flex items-center gap-2">
            <label for="sort" class="text-sm text-black/70">Sort</label>
            <select id="sort" class="rounded-md border border-black/10 bg-white px-2 py-1 text-sm">
              <option value="new">Newest</option>
              <option value="price-asc">Price: Low → High</option>
              <option value="price-desc">Price: High → Low</option>
            </select>
          </div>
        </div>
      </div>
    </section>

    <!-- Grid -->
    <section id="grid" class="py-12 sm:py-16">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <h2 class="sr-only">Products</h2>
        <div id="productGrid" class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"></div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-black/10 py-10">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between">
          <p class="text-sm text-black/60">© 2025 Moda</p>
          <nav class="flex items-center gap-6 text-sm">
            <a href="#home" class="hover:text-brand-600">Home</a>
            <a href="#grid" class="hover:text-brand-600">Shop</a>
            <a href="#home" class="hover:text-brand-600">About</a>
            <a href="#home" class="hover:text-brand-600">Contact</a>
          </nav>
        </div>
      </div>
    </footer>

    <!-- Cart Drawer -->
    <div id="cartDrawer" class="fixed inset-0 z-50 hidden">
      <div class="absolute inset-0 bg-black/30" aria-hidden="true"></div>
      <aside class="absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl ring-1 ring-black/10">
        <div class="flex items-center justify-between border-b border-black/10 px-5 py-4">
          <h3 class="text-lg font-semibold">Cart</h3>
          <button id="closeCart" class="btn btn-ghost h-9 px-3">Close</button>
        </div>
        <div id="cartItems" class="max-h-[60vh] overflow-auto p-5 space-y-4"></div>
        <div class="border-t border-black/10 p-5">
          <div class="flex items-center justify-between text-sm">
            <span>Subtotal</span>
            <span id="cartSubtotal" class="font-semibold">₹0</span>
          </div>
          <button class="btn btn-primary mt-4 w-full">Checkout</button>
        </div>
      </aside>
    </div>

    <!-- Templates -->
    <template id="productCardTmpl">
      <article class="group overflow-hidden rounded-xl ring-1 ring-black/10 bg-white">
        <div class="relative aspect-[4/5] overflow-hidden">
          <img class="h-full w-full object-cover" alt="">
          <button class="absolute bottom-3 left-3 rounded bg-white/85 px-2 py-1 text-[11px] font-medium ring-1 ring-black/10 backdrop-blur">Add to cart</button>
        </div>
        <div class="p-4">
          <h3 class="font-medium line-clamp-2"></h3>
          <p class="mt-1 text-sm text-black/60"></p>
          <div class="mt-3 flex items-center justify-between">
            <span class="text-base font-semibold"></span>
            <div class="flex items-center gap-1">
              <button class="h-6 w-6 rounded-full ring-1 ring-black/10" data-swatch></button>
              <button class="h-6 w-6 rounded-full ring-1 ring-black/10" data-swatch></button>
              <button class="h-6 w-6 rounded-full ring-1 ring-black/10" data-swatch></button>
            </div>
          </div>
          <div class="mt-3">
            <label class="sr-only">Size</label>
            <select class="w-full rounded-md border border-black/10 bg-white px-2 py-2 text-sm">
              <option>XS</option><option selected>S</option><option>M</option><option>L</option><option>XL</option>
            </select>
          </div>
        </div>
      </article>
    </template>

    <template id="cartItemTmpl">
      <div class="flex gap-3">
        <img class="h-16 w-16 rounded object-cover ring-1 ring-black/10" alt="">
        <div class="flex-1">
          <p class="text-sm font-medium"></p>
          <p class="text-xs text-black/60"></p>
          <div class="mt-2 flex items-center justify-between">
            <div class="flex items-center gap-2">
              <button class="btn btn-ghost h-8 px-2" data-dec>-</button>
              <span class="text-sm" data-qty>1</span>
              <button class="btn btn-ghost h-8 px-2" data-inc>+</button>
            </div>
            <div class="flex items-center gap-3">
              <span class="text-sm font-semibold" data-line>₹0</span>
              <button class="text-sm text-red-600 hover:underline" data-remove>Remove</button>
            </div>
          </div>
        </div>
      </div>
    </template>

    <!-- App Script -->
    <script>
      // Product data — edit freely
      const PRODUCTS = [
        { id: 'p-01', name: 'Airy Overshirt',  price: 2499, category: 'men',    image: 'https://picsum.photos/id/1012/800/1000', blurb: 'Featherweight twill, relaxed cut.', colors: ['#0f172a','#1f2937','#e5e7eb'] },
        { id: 'p-02', name: 'Everyday Tee',    price:  799, category: 'unisex', image: 'https://picsum.photos/id/1005/800/1000', blurb: 'Soft jersey, perfect drape.',       colors: ['#111827','#9ca3af','#f3f4f6'] },
        { id: 'p-03', name: 'Studio Trouser',  price: 2199, category: 'women',  image: 'https://picsum.photos/id/1021/800/1000', blurb: 'Straight fit, stretch waist.',     colors: ['#0b7285','#64748b','#94a3b8'] },
        { id: 'p-04', name: 'Transit Hoodie',  price: 1899, category: 'men',    image: 'https://picsum.photos/id/1018/800/1000', blurb: 'Loopback fleece, clean lines.',    colors: ['#1e293b','#0ea5e9','#fde68a'] },
        { id: 'p-05', name: 'Wrap Coat',       price: 3899, category: 'women',  image: 'https://picsum.photos/id/1016/800/1000', blurb: 'Brushed wool blend, belt tie.',    colors: ['#111827','#6b7280','#e5e7eb'] },
        { id: 'p-06', name: 'Field Jacket',    price: 2799, category: 'men',    image: 'https://picsum.photos/id/1020/800/1000', blurb: 'Four-pocket shell, water‑resist.', colors: ['#0f766e','#334155','#e2e8f0'] },
        { id: 'p-07', name: 'Boxy Shirt',      price: 1299, category: 'unisex', image: 'https://picsum.photos/id/1027/800/1000', blurb: 'Crisp poplin, short sleeve.',      colors: ['#0ea5e9','#1e293b','#f1f5f9'] },
        { id: 'p-08', name: 'Daily Jean',      price: 1699, category: 'women',  image: 'https://picsum.photos/id/1040/800/1000', blurb: 'Mid-rise, gentle taper.',         colors: ['#0c4a6e','#64748b','#cbd5e1'] },
        { id: 'p-09', name: 'Coach Jacket',    price: 2399, category: 'unisex', image: 'https://picsum.photos/id/1039/800/1000', blurb: 'Snap front, mesh lined.',          colors: ['#111827','#4b5563','#e5e7eb'] },
        { id: 'p-10', name: 'Rib Tank',        price:  599, category: 'women',  image: 'https://picsum.photos/id/1062/800/1000', blurb: 'Stretch rib, cropped.',           colors: ['#0f172a','#475569','#e2e8f0'] },
        { id: 'p-11', name: 'Trail Short',     price:  999, category: 'men',    image: 'https://picsum.photos/id/1059/800/1000', blurb: 'Quick-dry, zip pocket.',          colors: ['#134e4a','#263238','#cbd5e1'] },
        { id: 'p-12', name: 'Quilted Liner',   price: 2099, category: 'unisex', image: 'https://picsum.photos/id/1025/800/1000', blurb: 'Light insulation, packable.',      colors: ['#0e7490','#334155','#f8fafc'] }
      ];

      // State
      let filter = 'all';
      let sort = 'new';
      const grid = document.getElementById('productGrid');

      // Render grid
      function render() {
        const items = PRODUCTS
          .filter(p => filter === 'all' ? true : p.category === filter)
          .slice();

        if (sort === 'price-asc') items.sort((a, b) => a.price - b.price);
        if (sort === 'price-desc') items.sort((a, b) => b.price - a.price);

        grid.innerHTML = '';
        const tmpl = document.getElementById('productCardTmpl');
        for (const p of items) {
          const node = tmpl.content.cloneNode(true);
          const img = node.querySelector('img');
          img.src = p.image;
          img.alt = `${p.name}`;
          node.querySelector('h3').textContent = p.name;
          node.querySelector('p').textContent = p.blurb;
          node.querySelector('span.text-base').textContent = `₹${p.price.toLocaleString('en-IN')}`;

          const swatches = node.querySelectorAll('[data-swatch]');
          swatches.forEach((s, i) => { s.style.background = p.colors[i % p.colors.length]; });

          node.querySelector('button.absolute').addEventListener('click', () => addToCart(p.id));
          grid.appendChild(node);
        }
      }

      // Filters
      document.querySelectorAll('[data-filter]').forEach(btn => {
        btn.addEventListener('click', () => {
          filter = btn.dataset.filter;
          document.querySelectorAll('[data-filter]').forEach(b => b.classList.remove('bg-black/5'));
          btn.classList.add('bg-black/5');
          render();
        });
      });
      document.getElementById('sort').addEventListener('change', (e) => {
        sort = e.target.value;
        render();
      });

      // Cart
      const drawer = document.getElementById('cartDrawer');
      const openCart = document.getElementById('openCart');
      const closeCart = document.getElementById('closeCart');
      const cartItems = document.getElementById('cartItems');
      const cartSubtotal = document.getElementById('cartSubtotal');
      const cartCount = document.getElementById('cartCount');

      const CART_KEY = 'moda-cart';
      function loadCart() {
        try { return JSON.parse(localStorage.getItem(CART_KEY) || '[]'); }
        catch { return []; }
      }
      function saveCart(cart) {
        localStorage.setItem(CART_KEY, JSON.stringify(cart));
        updateCartBadge(cart);
      }
      function updateCartBadge(cart) {
        const count = cart.reduce((n, l) => n + l.qty, 0);
        cartCount.textContent = count;
      }
      function addToCart(id) {
        const cart = loadCart();
        const line = cart.find(l => l.id === id);
        if (line) line.qty += 1;
        else cart.push({ id, qty: 1 });
        saveCart(cart);
        renderCart();
        openDrawer();
      }
      function changeQty(id, delta) {
        const cart = loadCart().map(l => l.id === id ? ({ ...l, qty: Math.max(1, l.qty + delta) }) : l);
        saveCart(cart);
        renderCart();
      }
      function removeLine(id) {
        const cart = loadCart().filter(l => l.id !== id);
        saveCart(cart);
        renderCart();
      }
      function money(n) { return `₹${n.toLocaleString('en-IN')}`; }

      function renderCart() {
        const cart = loadCart();
        cartItems.innerHTML = '';
        const tmpl = document.getElementById('cartItemTmpl');
        let subtotal = 0;

        for (const l of cart) {
          const p = PRODUCTS.find(x => x.id === l.id);
          if (!p) continue;
          const node = tmpl.content.cloneNode(true);
          node.querySelector('img').src = p.image;
          node.querySelector('img').alt = p.name;
          node.querySelector('p.text-sm').textContent = p.name;
          node.querySelector('p.text-xs').textContent = p.blurb;
          node.querySelector('[data-qty]').textContent = l.qty;
          node.querySelector('[data-line]').textContent = money(p.price * l.qty);
          node.querySelector('[data-dec]').addEventListener('click', () => changeQty(p.id, -1));
          node.querySelector('[data-inc]').addEventListener('click', () => changeQty(p.id, +1));
          node.querySelector('[data-remove]').addEventListener('click', () => removeLine(p.id));
          cartItems.appendChild(node);
          subtotal += p.price * l.qty;
        }
        cartSubtotal.textContent = money(subtotal);
        updateCartBadge(cart);
      }

      function openDrawer() { drawer.classList.remove('hidden'); document.body.style.overflow = 'hidden'; }
      function closeDrawer() { drawer.classList.add('hidden'); document.body.style.overflow = ''; }

      openCart.addEventListener('click', openDrawer);
      closeCart.addEventListener('click', closeDrawer);
      drawer.addEventListener('click', (e) => { if (e.target === drawer.firstElementChild) closeDrawer(); });

      // Boot
      render();
      renderCart();
    </script>
  </body>
</html>
